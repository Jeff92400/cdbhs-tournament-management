# Guide Utilisateur - Tournois √† Jouer

Ce guide vous accompagne pas √† pas dans la pr√©paration des poules pour vos tournois de billard.

---

## Vue d'ensemble

Le module "Tournois √† jouer" vous permet de :
- V√©rifier la fra√Æcheur des donn√©es IONOS
- S√©lectionner un tournoi √† pr√©parer
- Choisir les joueurs participants
- Visualiser et ajuster les poules
- G√©n√©rer le fichier Excel de convocation

Le processus se d√©roule en **4 √©tapes** :
1. **S√©lection** - Choisir le tournoi
2. **Joueurs** - S√©lectionner les participants
3. **Validation** - V√©rifier et ajuster les poules
4. **G√©n√©ration** - Cr√©er le fichier Excel

---

## √âcran d'accueil - V√©rification des donn√©es

![√âcran de v√©rification des imports](screenshots/step0-import-check.png)

### Ce que vous voyez

√Ä l'ouverture de la page, un **panneau d'avertissement jaune** s'affiche avec :

- **Inscriptions** : Date de derni√®re mise √† jour du fichier des inscriptions
- **Tournois** : Date de derni√®re mise √† jour du fichier des tournois externes
- **Joueurs** : Date de derni√®re mise √† jour du fichier des joueurs FFB

### Code couleur des dates

| Couleur | Signification |
|---------|---------------|
| üü¢ Vert | Mis √† jour il y a moins de 24h |
| üü° Jaune | Mis √† jour il y a 1-2 jours |
| üü† Orange | Mis √† jour il y a 3-7 jours |
| üî¥ Rouge | Mis √† jour il y a plus de 7 jours ou jamais import√© |

### Ce que vous pouvez faire

1. **Mettre √† jour les inscriptions** (bouton jaune)
   - Cliquez pour acc√©der √† la page d'import des fichiers IONOS
   - Recommand√© si les donn√©es ont plus de 2 jours

2. **Continuer sans mise √† jour** (bouton gris)
   - Cliquez si vous √™tes s√ªr que vos donn√©es sont √† jour
   - Passe directement √† l'√©tape de s√©lection du tournoi

---

## √âtape 1 : S√©lection du Tournoi

![S√©lection du tournoi](screenshots/step1-selection.png)

### Tournois √† venir

En haut de l'√©cran, une section **"Tournois √† venir"** affiche automatiquement les tournois pr√©vus dans les 2 prochaines semaines.

Chaque carte de tournoi affiche :
- **Mode et cat√©gorie** (ex: 3 BANDES - N3, LIBRE - R2)
- **Num√©ro du tournoi** (Tournoi 1, 2, 3 ou Finale)
- **Date** du tournoi
- **Lieu** pr√©vu
- **Nombre d'inscrits** dans le syst√®me IONOS

### Ce que vous pouvez faire

**Option 1 : Cliquer sur un tournoi √† venir**
- Les champs Cat√©gorie, Saison et Tournoi se remplissent automatiquement
- Le tournoi s√©lectionn√© est mis en surbrillance (bordure bleue)
- Un r√©sum√© bleu appara√Æt avec les d√©tails du tournoi

**Option 2 : S√©lection manuelle**
- **Cat√©gorie** : Choisissez le mode de jeu et le niveau (ex: LIBRE - REGIONALE 3)
- **Saison** : Pr√©-s√©lectionn√©e automatiquement (ex: 2025-2026)
- **Tournoi √† pr√©parer** : S√©lectionnez Tournoi 1, 2, 3 ou Finale

### Validation

Une fois le tournoi s√©lectionn√©, un **r√©sum√© bleu** appara√Æt avec :
- La cat√©gorie compl√®te
- La date du tournoi
- Le lieu pr√©vu
- Le nombre de joueurs inscrits

Cliquez sur **"Charger les joueurs"** pour passer √† l'√©tape 2.

---

## √âtape 2 : S√©lection des Joueurs

![S√©lection des joueurs](screenshots/step2-joueurs.png)

### R√©sum√© en temps r√©el

En haut de l'√©cran, un panneau affiche en temps r√©el :
- **Joueurs s√©lectionn√©s** : Nombre total de joueurs coch√©s
- **Configuration des poules** : R√©partition optimale (ex: "5 poules de 3 et 1 poule de 4")
- **Tables n√©cessaires** : Nombre de tables de billard requises

### Les 3 sections de joueurs

#### 1. Joueurs class√©s (du classement actuel)

Liste des joueurs pr√©sents dans le classement de la cat√©gorie, tri√©s par position :
- **#1, #2, #3...** : Position au classement
- **Nom du joueur**
- **Club** et **Licence**
- **Badge "Inscrit"** (vert) : Le joueur est inscrit dans IONOS
- **Badge "Forfait"** (rouge) : Le joueur a d√©clar√© forfait

Les joueurs inscrits sont **automatiquement pr√©-coch√©s**.

#### 2. Nouveaux joueurs (inscrits non class√©s)

Joueurs inscrits dans IONOS mais absents du classement actuel :
- Marqu√©s avec un badge **"Nouveau"** (orange)
- Position affich√©e comme **"-"**
- Automatiquement pr√©-coch√©s

Ces joueurs seront plac√©s en fin de distribution serpentine.

#### 3. Ajout last minute

Permet d'ajouter un joueur qui n'est pas inscrit dans IONOS :
- Tapez le nom ou le num√©ro de licence
- S√©lectionnez le joueur dans la liste d√©roulante
- Cliquez sur **"Ajouter"**

Utile pour les inscriptions de derni√®re minute ou les remplacements.

### Boutons d'action rapide

| Bouton | Action |
|--------|--------|
| **Tout s√©lectionner** | Coche tous les joueurs de la liste |
| **Tout d√©s√©lectionner** | D√©coche tous les joueurs |
| **S√©lectionner les inscrits** | Coche uniquement les joueurs avec le badge "Inscrit" |

### Navigation

- **Retour** : Revenir √† l'√©tape 1 (s√©lection du tournoi)
- **Valider la liste** : Passer √† l'√©tape 3 (aper√ßu des poules)

---

## √âtape 3 : Validation et Aper√ßu des Poules

![Validation et aper√ßu](screenshots/step3-validation.png)

### R√©sum√© du tournoi

En haut, un tableau r√©capitule :
- **Cat√©gorie** : Mode et niveau
- **Tournoi** : Num√©ro du tournoi
- **Date** : Date de la comp√©tition
- **Lieu** : Lieu pr√©vu (depuis IONOS)
- **Nombre de joueurs** : Total des participants
- **Configuration** : R√©partition des poules
- **Tables n√©cessaires** : Nombre de tables requises

### Aper√ßu des Poules (Distribution Serpentine)

Les joueurs sont r√©partis automatiquement selon la **m√©thode serpentine** :
- Les joueurs sont distribu√©s en zigzag selon leur classement
- Cela garantit un √©quilibre entre les poules

Chaque poule affiche :
- **Titre** : "Poule 1 (3 joueurs)", "Poule 2 (3 joueurs)", etc.
- **Liste des joueurs** avec leur position au classement entre parenth√®ses
- **Badge "Nouveau"** pour les joueurs non class√©s
- **S√©lecteur de lieu** pour chaque poule

### D√©placer un joueur

Pour chaque joueur, un bouton **"D√©placer..."** permet de le transf√©rer vers une autre poule :
1. Cliquez sur "D√©placer..."
2. S√©lectionnez la poule de destination
3. Le joueur est imm√©diatement d√©plac√©

Utile pour :
- √âviter que des joueurs du m√™me club soient dans la m√™me poule
- Ajuster manuellement la r√©partition si n√©cessaire

### Lieu et Horaire de la Comp√©tition

#### Lieu principal
- S√©lectionnez le club o√π se d√©roule le tournoi
- Liste d√©roulante avec tous les clubs enregistr√©s

#### Heure de d√©but
- Choisissez l'heure de d√©but (14:00, 14:30, 15:00, etc.)

#### Option : Ajouter un second lieu (split)

Pour les tournois r√©partis sur 2 clubs :
1. Cliquez sur **"+ Ajouter un second lieu (split)"**
2. Un deuxi√®me s√©lecteur de lieu appara√Æt
3. Pour chaque poule, s√©lectionnez "Lieu 1" ou "Lieu 2"

### Navigation

- **Modifier la liste** : Revenir √† l'√©tape 2 pour ajuster les joueurs
- **G√©n√©rer le fichier Excel** : Cr√©er le fichier de convocation

---

## √âtape 4 : G√©n√©ration du Fichier Excel

Apr√®s avoir cliqu√© sur **"G√©n√©rer le fichier Excel"**, le fichier est automatiquement t√©l√©charg√©.

### Contenu du fichier Excel

Le fichier g√©n√©r√© contient **3 feuilles** :

#### Feuille 1 : Poules
- Composition de chaque poule
- Planning des matchs avec ordre de passage
- Colonnes pour noter les scores

#### Feuille 2 : Convocation (format classique)
- Liste des joueurs convoqu√©s
- Informations sur le lieu et l'heure
- Format traditionnel

#### Feuille 3 : Convocation v2 (format moderne)
- Mise en page professionnelle
- Logo du club
- Informations d√©taill√©es
- Pr√™t √† imprimer ou envoyer par email

### Nom du fichier

Le fichier est nomm√© automatiquement selon le format :
```
Poules_[CATEGORIE]_T[NUMERO]_[DATE].xlsx
```
Exemple : `Poules_3BANDES-N3_T2_06-12-2025.xlsx`

---

## Astuces et Bonnes Pratiques

### Avant le tournoi

1. **Mettez √† jour les fichiers IONOS** la veille ou le matin du tournoi
2. **V√©rifiez les forfaits** d√©clar√©s dans le syst√®me
3. **Pr√©parez la liste des joueurs last minute** potentiels

### Pendant la s√©lection

1. **Utilisez les tournois √† venir** pour gagner du temps
2. **V√©rifiez le nombre de tables** disponibles dans votre club
3. **Ajustez les poules** si des joueurs du m√™me club sont ensemble

### Apr√®s la g√©n√©ration

1. **V√©rifiez le fichier Excel** avant impression
2. **Envoyez les convocations** aux joueurs si n√©cessaire
3. **Gardez une copie** du fichier pour l'arbitrage

---

## Questions Fr√©quentes

### Pourquoi un joueur n'appara√Æt-il pas dans la liste ?

V√©rifiez que :
- Le joueur est bien inscrit dans IONOS
- Le fichier des inscriptions a √©t√© import√© r√©cemment
- Le joueur n'a pas √©t√© d√©clar√© forfait

### Comment ajouter un joueur de derni√®re minute ?

Utilisez la section **"Ajout last minute"** :
1. Tapez son nom ou num√©ro de licence
2. S√©lectionnez-le dans la liste
3. Cliquez sur "Ajouter"

### Comment g√©rer un tournoi sur 2 lieux ?

1. √Ä l'√©tape 3, cliquez sur **"+ Ajouter un second lieu (split)"**
2. S√©lectionnez les 2 clubs
3. Pour chaque poule, choisissez le lieu appropri√©

### Les donn√©es sont-elles sauvegard√©es ?

Non, la s√©lection des joueurs n'est pas sauvegard√©e entre les sessions. Vous devez refaire la s√©lection √† chaque fois que vous g√©n√©rez un nouveau fichier.

---

*Guide utilisateur - Module Tournois √† Jouer*
*CDBHS Tournois - Version 1.1*
*Mis √† jour le 30 novembre 2025*
